<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cronometro</title>
</head>
<body>
    <canvas style="border: 1px solid black" id="myCanvas"></canvas>
</body>
<script src="PSlibrary20192.js"></script>
<script>
    var altura, largura, t = 0;
    
    function cronometro(x, y, color1, color2, tempo, scale){
        var x; y; color1; color2; scale;	
        ctx.save();
        ctx.translate(x,y);
        ctx.scale(scale,scale);
        ctx.translate(-x,-y);
        
        ctx.beginPath();	
        ctx.moveTo(x, y);
        ctx.arc(x, y, 50, 0, 2 * Math.PI);
        ctx.lineWidth = 1.5;
        ctx.fillStyle = color1;
        ctx.fill();
        
        rectangle(x + 42, y - 47, 12, 30, 1, 45, color1, color1)
        rectangle(x + 58, y - 40, 12, 20, 1, 135, color1, color1)
        
        rectangle(x - 52, y - 42, 12, 30, 1, -45, color1, color1)
        rectangle(x - 42, y - 55, 12, 20, 1, 45, color1, color1)
        
        rectangle(x - 6, y - 60, 12, 30, 1, 0, color1, color1)
        rectangle(x - 10, y - 70, 20, 12, 1, 0, color1, color1)
        
        ctx.beginPath();	
        ctx.moveTo(x, y);
        ctx.arc(x, y, 43, 0, 2 * Math.PI);
        ctx.lineWidth = 1;
        ctx.fillStyle = color2; 
        ctx.fill();
        
        rectangleRound(x - 32, y + 12, 64, 24, 2, 1, color1, color1)
        
        textBold(tempo, '16', 'verdana', x - 16, y + 8, color2)
        
        ctx.restore();
    }
    
    function main(){
        altura = window.innerHeight;
        largura = window.innerWidth;
        if(largura >= 500){largura = 600; altura = 600;}
        canvas.width = largura;
        canvas.height = altura;
        
        
        roda();
    }
    
    function roda() {
        desenha();
        t+= 0.02;
        
        window.requestAnimationFrame(roda);
    }
    
    function desenha() {
        ctx.fillStyle = "#ffffff";
        ctx.fillRect(0,0, largura, altura);
        cronometro(100, 100, '#e7e7e7', '#6490b1', Math.floor(t), 1);
    }
    
    //inicializa
    main();
    
</script>
</html>